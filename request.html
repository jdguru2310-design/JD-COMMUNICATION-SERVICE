<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Request Service — JD Communication Services</title><link rel="stylesheet" href="style.css"></head>
<body>
  <div class="wrap">
    <header class="header">
      <div class="brand"><img src="assets/jd-logo.svg" class="logo" alt="JD logo"><div><h1>JD Communication Services</h1></div></div>
      <nav class="nav"><a href="index.html">Home</a><a href="services.html">Services</a><a href="request.html">Request</a></nav>
    </header>
    <main style="margin-top:18px">
      <h2>Request a Service</h2>
      <p class="muted">Select service and upload required documents. After submission you will see a confirmation message.</p>
     <form id="serviceForm">
  <h2>Apply for a Service</h2>

  <!-- Basic Details -->
  <label for="name">Full Name:</label>
  <input type="text" id="name" name="from_name" placeholder="Enter your name" required />

  <label for="phone">Phone Number:</label>
  <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required />

  <label for="service">Select Service:</label>
  <select id="service" name="service" required>
    <option value="">-- Select a Service --</option>
    <option value="Community Certificate">Community Certificate</option>
    <option value="Income Certificate">Income Certificate</option>
    <option value="Nativity Certificate">Nativity Certificate</option>
    <option value="PSTM Certificate">PSTM Certificate</option>
    <option value="OBC Certificate">OBC Certificate</option>
    <option value="Voter ID">Voter ID</option>
    <option value="PAN Card">PAN Card</option>
  </select>

  <!-- Optional File Uploads -->
  <p style="color: gray;">Uploading documents is optional. You may also submit later.</p>

  <label>Passport Size Photo:</label>
  <input type="file" id="photo" name="photo" accept=".jpg,.jpeg,.png,.pdf" />

  <label>Aadhaar Card:</label>
  <input type="file" id="aadhaar" name="aadhaar" accept=".jpg,.jpeg,.png,.pdf" />

  <label>Ration Card:</label>
  <input type="file" id="ration" name="ration" accept=".jpg,.jpeg,.png,.pdf" />

  <label>Signature:</label>
  <input type="file" id="signature" name="signature" accept=".jpg,.jpeg,.png,.pdf" />

  <!-- Submit Button -->
  <button type="submit" id="submitBtn">Submit</button>
</form>

<!-- Success Message -->
<p id="successMessage" style="display:none; color:green; font-weight:bold; margin-top:10px;">
  ✅ Thanks for contacting JD Communication Services!<br />
  Our service team will contact you soon.
</p>

<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
  emailjs.init("M_YXuYhZTJQgO_ggrFwSb"); // your EmailJS Public Key

  document.getElementById("serviceForm").addEventListener("submit", function (event) {
    event.preventDefault();

    const submitBtn = document.getElementById("submitBtn");
    submitBtn.disabled = true;
    submitBtn.textContent = "Sending...";

    emailjs
      .sendForm("service_7fwtzfa", "ApO3bNQPrRL95pI1G", this)
      .then(() => {
        document.getElementById("successMessage").style.display = "block";
        this.reset();
      })
      .catch((error) => {
        alert("Error sending request. Please try again.");
        console.error("EmailJS Error:", error);
      })
      .finally(() => {
        submitBtn.disabled = false;
        submitBtn.textContent = "Submit";
      });
  });
</script>
    </main>
    <footer class="footer">Contact: jdguru2310@gmail.com • © 2025 JD Communication Services</footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function(){{ emailjs.init('M_YXuYhZTJQgO_ggrFwSb'); }})();
  </script>
  <script>
  const SERVICE_REQUIREMENTS = {"Community Certificate": ["Passport size photo", "Aadhaar card", "Ration card", "Parents or siblings community Certificate", "Signature"], "Income Certificate": ["Passport size photo", "Aadhaar card", "Ration card", "Signature"], "Nativity Certificate": ["Passport size photo", "Aadhaar card", "Ration card", "Birth certificate", "Signature"], "PSTM Certificate": ["Basic details", "School TC"], "OBC Certificate": ["Passport size photo", "Aadhaar card", "Ration card", "Income certificate", "Community Certificate", "Signature"], "Voter ID": ["Passport size photo", "10th marksheet", "Aadhaar card", "Parent voter id"], "PAN Card": ["Passport size photo", "Aadhaar card", "Signature"]};
  const uploadsList = document.getElementById('uploads-list');
  const serviceSelect = document.getElementById('serviceType');
  const form = document.getElementById('request-form');
  const statusEl = document.getElementById('form-status');
  function createFileInput(name, idx){{
    const wrapper = document.createElement('div');
    wrapper.className = 'file-input';
    const label = document.createElement('label');
    label.textContent = name;
    const input = document.createElement('input');
    input.type = 'file';
    input.name = 'file_' + idx;
    input.accept = '.pdf,.jpg,.jpeg,.png';
    input = true;
    wrapper.appendChild(label);
    wrapper.appendChild(input);
    return wrapper;
  }}
  function showRequirements(service){{
    uploadsList.innerHTML = '';
    if(!service) return;
    const reqs = SERVICE_REQUIREMENTS[service] || [];
    reqs.forEach((r, i) => {{
      if(r.toLowerCase().includes('basic detail')){{
        const wrapper = document.createElement('div');
        wrapper.className = 'form-row';
        const label = document.createElement('label'); label.textContent = 'Basic details';
        const input = document.createElement('input'); input.name = 'basic_details'; input.className = 'input'; input.required = true;
        wrapper.appendChild(label); wrapper.appendChild(input); uploadsList.appendChild(wrapper);
      }} else {{
        uploadsList.appendChild(createFileInput(r, i));
      }}
    }});
  }}
  serviceSelect.addEventListener('change', function(){ showRequirements(this.value); });
  const params = new URLSearchParams(location.search);
  const pre = params.get('service');
  if(pre){ serviceSelect.value = pre; showRequirements(pre); }
  form.addEventListener('submit', function(e){ e.preventDefault(); statusEl.textContent = 'Submitting...';
    emailjs.sendForm('service_7fwtzfa', 'ApO3bNQPrRL95pI1G', this).then(function(){ statusEl.textContent = '✅ Thanks for contacting JD Communication Services! Our service team will contact you soon.'; form.reset(); uploadsList.innerHTML = ''; }, function(err){ console.error('EmailJS error:', err); statusEl.textContent = '❌ Error sending request. Please try again.'; });
  });
  </script>
</body>
</html>
